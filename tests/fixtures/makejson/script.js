(()=>{"use strict";var e,t={843:(e,t,s)=>{const r=window.wp.element,n=window.wp.primitives,a=window.ReactJSXRuntime,c=(0,a.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(n.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),l=window.wp.i18n,o=window.wp.apiFetch;var i=s.n(o);function d(e){if(e.classList.add("awaitingResponse"),!e.querySelector(".spinner")){const t=document.createElement("div");t.classList.add("spinner"),t.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"/><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z"><animateTransform attributeName="transform" type="rotate" dur="0.75s" values="0 12 12;360 12 12" repeatCount="indefinite"/></path></svg>',e.appendChild(t)}}function u(e){let t=null,s=!1,r=e?.querySelector("input.wp-block-search__input");const n=e?.querySelector(".wp-block-search__button"),a=r?"input":"modal";if(!e||!n)return;function c(){const t=document.createElement("div");return t.classList.add("search-results"),t.classList.add("search-input-results"),e?.appendChild(t),e?.addEventListener("focusin",(function(){s=!0})),e?.addEventListener("focusout",(function(){s=!1})),t}function o(e){e&&("modal"===a?e.innerHTML="":(e.remove(),e=null))}const u=(()=>{let s;return(...r)=>{clearTimeout(s),s=setTimeout((()=>{(s=>{null!==t&&(e.classList.remove("hide"),s.length>=3?async function(e,t){return i()({path:"/vsge/v2/live-search",method:"POST",data:{query:e,count:t}}).then((e=>e||!1)).catch((e=>{console.error(e)}))}(s,Number(liveSearchBlock?.resultCount||10)).then((s=>{!function(e){const t=e?.querySelector(".spinner");t&&(t.remove(),e?.classList.remove("awaitingResponse"))}(t),e?.classList.add("focused"),t&&(t.classList.remove("awaitingResponse"),t.innerHTML=s?`<ul class="search-results-wrapper">${s}</ul>`:`<ul class="search-results-wrapper"><li class="no-results">${(0,l.__)("Sorry, no results found","live-search-block")}</li></ul>`)})):0!==s.length?(t.innerHTML=`<ul class="search-results-wrapper"><li>${(0,l.sprintf)(/** Translators: 1: Number of characters, 2: Number of characters */ /** Translators: 1: Number of characters, 2: Number of characters */
(0,l._n)("Please add %s more characters","Please add %s more character",3-s.length,"live-search-block"),3-s.length)}</li></ul>`,d(t)):o(t))})(...r)}),250)}})();function h(){if(r&&"input"===a&&!r.closest("form")){const e=r.parentElement,s=r.nextElementSibling,n=document.createElement("form");n.setAttribute("role","search"),n.setAttribute("method","get"),n.setAttribute("action",window.location.origin),n.classList.add("search-form"),r.setAttribute("name","s"),e&&(r.remove(),s&&s.remove(),n.appendChild(r),s&&n.appendChild(s),e.appendChild(n),n.addEventListener("submit",(e=>{const s=r?.value.trim()||"",n=t?.querySelectorAll(".search-result-post");if(n&&1===n.length){e.preventDefault();const t=n[0].querySelector("a");if(t){const e=t.href;if(e)return void(window.location.href=e)}}s.length>0&&s.length<3&&(e.preventDefault(),t||"input"!==a||(t=c()),t&&(t.innerHTML=`<ul class="search-results-wrapper"><li>${(0,l.sprintf)(/** Translators: 1: Number of characters, 2: Number of characters */ /** Translators: 1: Number of characters, 2: Number of characters */
(0,l._n)("Please add %s more characters","Please add %s more character",3-s.length),3-s.length)}</li></ul>`,d(t)))})))}r?.addEventListener("input",(e=>{e.currentTarget?.value||"input"!==a||o(t)})),r?.addEventListener("keyup",(e=>{const s=e.target.value;t||"input"!==a||(t=c()),t&&!t?.classList.contains("awaitingResponse")&&d(t),u(s)})),r?.addEventListener("focus",(function(){e?.classList.add("focused")})),r?.addEventListener("blur",(function(t){s||t.target.classList.contains("wp-block-search__input")||e?.classList.remove("focused")}))}if("modal"===a){const e=function(){const e=document.createElement("div");e.classList.add("search-modal-overlay"),e.classList.add("hide");const t=document.createElement("div");t.classList.add("search-modal");const s=document.createElement("button");s.classList.add("search-modal-close"),s.innerHTML="&times;",s.type="button";const r=document.createElement("h2");r.classList.add("search-modal-title"),r.textContent=(0,l.__)("Search","live-search-block");const n=document.createElement("form");n.classList.add("search-modal-form"),n.setAttribute("role","search"),n.setAttribute("method","get"),n.setAttribute("action",liveSearchBlock.formRedirectUrl);const a=document.createElement("div");a.classList.add("search-input-wrapper");const c=document.createElement("input");c.classList.add("search-modal-input"),c.setAttribute("type","search"),c.setAttribute("name","s"),c.setAttribute("placeholder",(0,l.__)("Type to searchâ€¦","live-search-block"));const o=document.createElement("button");o.classList.add("search-modal-button"),o.setAttribute("type","submit"),o.innerHTML='<svg class="search-icon" viewBox="0 0 24 24" width="24" height="24"><path d="M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"></path></svg>';const i=document.createElement("div");return i.classList.add("search-results"),i.classList.add("search-modal-results"),a.appendChild(c),a.appendChild(o),n.appendChild(a),t.appendChild(s),t.appendChild(r),t.appendChild(n),t.appendChild(i),e.appendChild(t),document.body.appendChild(e),s.addEventListener("click",(t=>{t.target===s&&e.classList.add("hide")})),e.addEventListener("click",(t=>{t.target===e&&e.classList.add("hide")})),n.addEventListener("submit",(e=>{const t=c.value,s=i?.querySelectorAll(".search-result-post");if(s&&1===s.length){e.preventDefault();const t=s[0].querySelector("a");if(t){const e=t.href;if(e)return void(window.location.href=e)}}t.length>0&&t.trim().length<3&&(e.preventDefault(),i.innerHTML=`<ul class="search-results-wrapper"><li>${(0,l.sprintf)(/** Translators: 1: Number of characters, 2: Number of characters */ /** Translators: 1: Number of characters, 2: Number of characters */
(0,l._n)("Please add %s more characters","Please add %s more character",3-t.trim().length,"live-search-block"),3-t.trim().length)}</li></ul>`,d(i))})),o.addEventListener("click",(()=>{e.style.opacity=String(1);const t=c.value.trim();t.length>=3&&u(t)})),e}();r=e.querySelector(".search-modal-input"),r?.focus(),t=e.querySelector(".search-results"),n.addEventListener("click",(function(t){t.preventDefault(),h(),e.classList.remove("hide"),r?.focus()}))}else h()}function h(){const e=liveSearchBlock.formRedirectUrl;return(0,a.jsxs)("form",{role:"search",method:"get",autoComplete:"off",action:e,className:"wp-block-search__button-inside wp-block-search__icon-button wp-block-live-search",children:[(0,a.jsx)("label",{htmlFor:"s",className:"wp-block-search__label screen-reader-text",children:(0,l.__)("Search","live-search-block")}),(0,a.jsxs)("div",{className:"wp-block-search__inside-wrapper ",children:[(0,a.jsx)("input",{type:"search",className:"wp-block-search__input",name:"s",placeholder:""}),(0,a.jsx)("input",{type:"hidden",name:"lang"}),(0,a.jsx)("button",{type:"submit",className:"wp-block-search__button has-icon wp-element-button","aria-label":"Search",children:(0,a.jsx)("svg",{className:"search-icon",viewBox:"0 0 24 24",width:"24",height:"24",children:(0,a.jsx)("path",{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})})})]})]})}const p=()=>{const[e,t]=(0,r.useState)(!1),s=()=>{t(!0)},n=()=>{t(!1)};return(0,r.useEffect)((()=>{document.querySelectorAll(".search-box-button").forEach((e=>{e.addEventListener("click",s)}))}),[]),(0,r.useEffect)((()=>{const t=document.querySelector("#search-box-modal .wp-block-live-search");null!==e&&null!==t&&u(t)}),[e]),e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{id:"search-box-modal-overlay",className:"overlay",onClick:n}),(0,a.jsxs)("div",{id:"search-box",className:"modal overlay-card",children:[(0,a.jsx)("div",{className:"card-header",children:(0,a.jsx)("button",{className:"search-box-icons close-button",onClick:n,children:c},"close")}),(0,a.jsx)("div",{className:"card-content",children:(0,a.jsx)(h,{})})]})]}):null};!function(){const e=document.getElementById("search-box-modal");(0,r.createRoot)(e).render((0,a.jsx)(p,{}))}(),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".wp-block-search-block").forEach(u)}))}},s={};function r(e){var n=s[e];if(void 0!==n)return n.exports;var a=s[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,s,n,a)=>{if(!s){var c=1/0;for(d=0;d<e.length;d++){for(var[s,n,a]=e[d],l=!0,o=0;o<s.length;o++)(!1&a||c>=a)&&Object.keys(r.O).every((e=>r.O[e](s[o])))?s.splice(o--,1):(l=!1,a<c&&(c=a));if(l){e.splice(d--,1);var i=n();void 0!==i&&(t=i)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[s,n,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={847:0,706:0};r.O.j=t=>0===e[t];var t=(t,s)=>{var n,a,[c,l,o]=s,i=0;if(c.some((t=>0!==e[t]))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(o)var d=o(r)}for(t&&t(s);i<c.length;i++)a=c[i],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},s=globalThis.webpackChunklive_search_block=globalThis.webpackChunklive_search_block||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=r.O(void 0,[706],(()=>r(843)));n=r.O(n)})();